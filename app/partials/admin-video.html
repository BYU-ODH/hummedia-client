<section class="admin" id="admin-video-select">
    <div id="listwrapper">
        <div id="list_scrolling_block">
            <h2>{{"Videos" | tr}}</h2>
            <div class="filter">
                Filter: <input type="search" ng-model="title_filter">
            </div>
            <div data-ng-show="!videos.length && !no_videos" class="loading_message">Loading Videos...</div>
            <div data-ng-show="no_videos" class="loading_message">No Videos</div>
            <ul>
                <li class="selectable" data-ng-repeat="v in videos | filter: {'ma:title': title_filter}" data-ng-class="{selected: v.pid == video.pid}" data-ng-click="setVideo(v)">{{v["ma:title"]}}</li>
            </ul>
        </div>
        <a href='#/admin/video/create' id="admin-video-add-button"><h2 class="ng-binding">Add Video</h2></a>
    </div>
</section>
<section class="admin" data-ng-show="!!video">
    <div class="admin-editor">
        <h2>{{"Modify" | tr}} {{video["ma:title"]}}</h2>
        <button data-ng-click="previewVideo()"><i class="icon-play"></i> Preview Video</button>
        <form>
            <div class="form-table">
                <div resource-form="video" resource-model="video"></div>
            </div>
            <div class="control-buttons">
                <button id="admin-video-cancel" data-ng-readonly="video.isSaving" data-ng-click="cancel()"> {{"Cancel" | tr}}</button>
                <button id="admin-video-delete" data-ng-readonly="video.isSaving" data-ng-click="delete(video)" class="icon-trash"> {{"Delete" | tr}}</button>
                <button id="admin-video-save" data-ng-readonly="video.isSaving" data-ng-click="update()"class="icon-save"> <span data-ng-switch="video.isSaving"><span data-ng-switch-default>{{"Save Changes" | tr}}</span><span data-ng-switch-when="true">{{"Savingâ€¦" | tr}}</span></span></button>
            </div>
        </form>
    </div>
</section>
<section class="admin" data-ng-show="!!video && user.isSuperuser">
    <div id="listwrapper" data-ng-animate=" 'blur' ">
        <div id="list_scrolling_block">
            <h2>{{"Attached Collections" | tr}}</h2>
            <ul>
                <li data-ng-repeat="course in video['ma:isMemberOf']">
                    <table id="listvideotable"><tr>
                            <td>{{course['title']}}</td>
                            <td id="righttd"><button data-ng-click="annotate(course['@id'])">{{"Annotate" | tr}}</button><button data-ng-click="deleteCollection(course['@id'], course['title'])">{{"Remove" | tr}}</button></td></tr>
                    </table>
                </li>
            </ul>
        </div>
        <div class="centered-bwbutton"><button class="bwbuttondark" data-ng-click="getCollections(); toggleModal('#modal-add-video')">Add Collection</button></div>
    </div>
</section>

<div id='blur-box'> 
</div>
<div class='modal' id='modal-add-video'>
    <i data-ng-click="toggleModal('#modal-add-video')" class="icon-remove-sign close-icon"></i>
    <h2>Select a Collection</h2>
    <div class="filter">
            Filter: <input type="search" data-ng-model="collection_filter">
    </div>
    <hr>
    <ul>
        <li data-ng-repeat="collection in collections | filter: {'dc:title': collection_filter}">
            <label><input data-ng-model="selected_collections[collection.pid]" type='checkbox' value='{{collection.pid}}'/> {{collection["dc:title"]}}</label>
        </li>
    </ul>
    <br />
    <p>{{selected_collections_count}} Collections Selected</p>
    <button class="bwbuttondark" data-ng-click="toggleModal('#modal-add-video'); addVideoToCollections()">Add Video to Selected</button>
</div>
