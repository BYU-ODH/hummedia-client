<section id="search">
    <div id="search_content">
	<!-- Without this div we get bad sizing issues -->
	<div>
	    <form class="searchform" data-ng-submit="refresh()">
		<input class="searchfield" type="search" data-ng-model="query" autofocus="autofocus" placeholder="Search…" data-ng-change="change()">
		<input class="searchbutton" type="submit" value="Go" />
	    </form>
	    <p data-ng-show="!isSearching && hasSearched">
		<ng-pluralize count="results.length" when="{'0': 'No results.',
			      'one': 'One result.',
			      'other': '{} results found.'}">
		</ng-pluralize>
	    </p>
	    <p data-ng-show="isSearching">
		Searching…
	    </p>
	</div>
    </div>
    <section id="search-results">
	<ul>
	    <li class="result" data-ng-repeat="result in results"><a data-ng-href="#/{{result.type}}/{{result.pid}}">
		    <div class="details">
			<ng-switch on="result.date.length == 10">
				<time datetime="{{result['ma:date']}}" data-ng-switch-when="true">{{result["ma:date"] | date:'longDate'}}</time>
                <time datetime="{{result['ma:date']}}" data-ng-switch-when="false">{{result["ma:date"]}}</time>
			</ng-switch>
			<ul class="languages">
			    <li data-ng-repeat="lg in result['ma:hasLanguage']">{{lg | language}}</li>
			</ul>
		    </div>
		    <h1>{{result['ma:title']}}</h1>
		    <p class="description">{{result['ma:description']}}</p>
	    </a></li>
	</ul>
    </section>
</section>
