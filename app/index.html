<!doctype html>
<html lang="en" data-ng-app="hummedia" data-ng-controller="SiteCtrl">
<head>
  <meta charset="utf-8">
  <!--Google Web Fonts-->
  <link href='//fonts.googleapis.com/css?family=Rambla' rel='stylesheet' type='text/css'>
  <title data-ng-bind="title">Hummedia</title>
  <link rel="stylesheet" href="css/cssreset-min.css"/>
  <style>
      [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
          display: none !important;
      }
  </style>
  <link rel="stylesheet/less" href="css/admin-collection.less"/>
  <link rel="stylesheet/less" href="css/video.less"/>
  <link rel="stylesheet/less" href="css/app.less"/>
  <link rel="stylesheet/less" href="css/font-awesome.less"/>
</head>
<body>
    <!--[if lte IE 8]>
    <script type="text/javascript"> 
        var $buoop = {vs:{i:8,f:3.6,o:10.6,s:4,n:9}} 
        $buoop.ol = window.onload; 
        window.onload=function(){ 
         try {if ($buoop.ol) $buoop.ol();}catch (e) {} 
         var e = document.createElement("script"); 
         e.setAttribute("type", "text/javascript"); 
         e.setAttribute("src", "http://browser-update.org/update.js"); 
         document.body.appendChild(e); 
        };
    </script>
    <![endif]-->
    <div id='error-modal' api-error-modal blur='#background, #view'></div>
    <div id="container">
    <div id="background" data-ng-style="style"></div>
    <div data-ng-controller="NavCtrl" id="nav-wrapper">
        <nav id="navtable" data-ng-cloak>
            <a id="navtitle" href="#" analytics="{category: 'nav', label: 'logo'}">Humanities Online Media</a>
            <a data-ng-click="user.prompt(true)" analytics="{category: 'nav', label: 'login'}" id="login-link" data-ng-show="showLogin">{{"Login" | tr}}</a>
            <a data-ng-click="user.prompt(true)" data-ng-show="user.netIDRequired" analytics="{category: 'nav', label: 'link BYU NetID'}">{{"Link BYU NetID" | tr}}</a>
            <a data-ng-show="user.exists" analytics="{category: 'nav', label: 'user\'s name, has no effect'}">{{user.data.fullname}}</a>
            <a data-ng-show="user.canCreate" ng-click="toggleAdmin()" analytics="{category: 'nav', label: 'admin'}">{{"Admin" | tr}}</a>
            <a href="#/collection" analytics="{category: 'nav', label: 'courses'}">{{"Courses" | tr}}</a>
            <a href="#/search" id="nav-search" analytics="{category: 'nav', label: 'search'}">{{"Search" | tr}}</a>
            <a href="#/about" analytics="{category: 'nav', label: 'about'}">{{"About" | tr}}</a>
            <a id="logout-link" data-ng-click="user.logout()" data-ng-show="user.exists || user.netIDRequired" analytics="{category: 'nav', label: 'logout'}">{{"Logout" | tr}}</a>
            <a href="#/developer" data-ng-show="debug">Developer</a>
        </nav>
        <nav data-ng-show="showAdminMenu && user.canCreate" id="nav-admin" data-ng-cloak>
           <a href="#/admin/collection" analytics="{category: 'admin-nav', label: 'collections'}">{{"Collections" | tr}}</a>
           <a href="#/admin/video" analytics="{category: 'admin-nav', label: 'videos'}">{{"Videos" | tr}}</a>
           <a href="#/admin/user" data-ng-show="user.isSuperuser" analytics="{category: 'admin-nav', label: 'users'}">{{"Users" | tr}}</a> 
        </nav>
        <div id="warn-login" data-ng-class="!user.exists && hasCheckedUser ? 'active' : ''" data-ng-show="!user.exists && hasCheckedUser && !warningDismissed" data-ng-cloak data-ng-animate="'warn'"><i class="icon-remove-sign" ng-click="warningDismissed = true" analytics="{category: 'login-warning', label: 'dismiss'}"></i>You are not logged in. You may not be able to view all of your courses' material until you <a data-ng-click="user.prompt(true)" analytics="{category: 'login-warning', label: 'login'}">login</a>.</div>
    </div>
    <div ng-view id="view">

    </div>
    </div>
  <!--[if gt IE 8]> -->

  <!-- LIBRARIES -->
  <script src="lib/require/require.js" data-cdn="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.8/require.min.js"></script>
  <script>
      require.config({
          baseUrl: 'lib/butter/src',
          paths: {
              "editors": '../assets/editors/',
              "tinymce": [
                  "../../tinymce/tinymce.min"
              ],
              "less": [
                  "//cdnjs.cloudflare.com/ajax/libs/less.js/1.3.3/less.min",
                  "../../less/less-1.3.3.min"
              ]
          },
          shim: {
              "tinymce": {
                  "exports": "tinymce",
                  "init": function() {
                      this.tinymce.DOM.events.domLoaded = true;
                      return this.tinymce;
                  }
              }
          }
      });
  </script>
  <script src="lib/jquery-2.0.0.js" data-cdn="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
  <script src="lib/less/less-1.3.3.min.js" data-remove></script>
  <script src="lib/angular/angular.js" data-cdn="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
  <script src="lib/angular/angular-resource.js" data-cdn="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular-resource.min.js"></script>
  <script src="js/custom-sanitize.js"></script>
  
  <!-- POPCORN -->
  <script src="lib/popcorn-956693f8/popcorn.js"></script>
  <script src="lib/popcorn-js/modules/parser/popcorn.parser.js" ></script>
  <script src="lib/popcorn-js/parsers/parserVTT/popcorn.parserVTT.js" ></script>
  <script src="lib/popcorn-js/parsers/parserSRT/popcorn.parserSRT.js" ></script>
  <script src="lib/popcorn-js/modules/player/popcorn.player.js" ></script>
  <script src="lib/popcorn-js/modules/locale/popcorn.locale.js" ></script>
  <script src="lib/popcorn-js/players/youtube/popcorn.youtube.js" ></script>
  <script src="lib/popcorn-js/plugins/subtitle/popcorn.subtitle.js" ></script>
  <script src="lib/hummedia-popcorn-plugins/audio/popcorn.audio.js"></script>
  <script src="lib/hummedia-popcorn-plugins/modal/popcorn.modal.js"></script>
  <script src="lib/hummedia-popcorn-plugins/reference/popcorn.reference.js"></script>
  <script src="lib/hummedia-popcorn-plugins/youtube-search/popcorn.youtube-search.js"></script>
  <script src="lib/hummedia-popcorn-plugins/freebase-search/popcorn.freebase-search.js"></script>
  <script src="lib/hummedia-popcorn-plugins/comment/popcorn.comment.js"></script>
  <script src="lib/hummedia-popcorn-plugins/interaction/popcorn.interaction.js"></script>
  <script src="lib/hummedia-popcorn-plugins/skip/popcorn.skip.js"></script>
  <script src="lib/butter/assets/plugins/pausePlugin/popcorn.pausePlugin.js"></script>
  <script src="lib/hummedia-popcorn-plugins/mutePlugin/popcorn.mutePlugin.js"></script>
  <script src="lib/hummedia-popcorn-plugins/imagePlugin/popcorn.imagePlugin.js"></script>  

  <!-- APP FILES -->
  <script src="CONFIG.js" data-exclude-compress></script>
  <script src="js/config-helper.js"></script>
  <script src="js/app.js"></script>
  
  <!-- SERVICES -->
  <script src="js/services.js"></script>
  <script src="js/services/analytics.js"></script>
  <script src="js/services/user.js"></script>
  <script src="js/services/select-language-helper.js"></script>
  <script src="js/services/developer.js" data-remove="true"></script>
  <script src="js/services/language.js"></script>
  <script src="js/services/course.js"></script>
  
  <!-- DIRECTIVES -->
  <script src="js/directives.js"></script>
  <script src="js/directives/api-error-modal.js"></script>
  <script src="js/directives/analytics.js"></script>
  <script src="js/directives/draggable.js"></script>
  <script src="js/directives/repaint.js"></script>
  <script src="js/directives/select-language.js"></script>
  <script src="js/directives/select-language-multi.js"></script>
  <script src="js/directives/resource-form.js"></script>
  <script src="lib/angular-ui/tinymce.js"></script>
 
  <!-- RESOURCES --> 
  <script src="js/resources/video.js"></script>
  <script src="js/resources/collection.js"></script>
  <script src="js/resources/account.js"></script>
  <script src="js/resources/youtube.js"></script>
  <script src="js/resources/annotation.js"></script>

  <!-- CONTROLLERS -->
  <script src="js/controllers/nav.js"></script>
  <script src="js/controllers/search.js"></script>
  <script src="js/controllers/select-course.js"></script>
  <script src="js/controllers/login.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/controllers/collections.js"></script>
  <script src="js/controllers/site.js"></script>
  <script src="js/controllers/admin_collection.js"></script>
  <script src="js/controllers/admin_user.js"></script>
  <script src="js/controllers/admin_video.js"></script>
  <script src="js/controllers/admin_create_video.js"></script>
  <script src="js/controllers/video_search.js"></script>
  <script src="js/controllers/video.js"></script>
  <script src="js/controllers/developer.js" data-remove="true"></script>
<!--[endif]> -->
</body>
</html>
